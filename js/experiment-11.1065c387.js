(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["experiment-11"],{"04d2":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"default"},[i("PageHeader",{attrs:{route:this.$route}}),i("canvas",{ref:"canvas",staticClass:"canvas"}),i("div",{staticClass:"button button__back",on:{click:e.buttonBackHandler}}),i("div",{staticClass:"button button__forward",on:{click:e.buttonForwardHandler}})],1)},r=[],s=(i("d81d"),i("36ad")),a=i("3191"),o=i.n(a),u=function(e,t){return(e%t+t)%t},d="#define GLSLIFY 1\nvarying vec2 v_uv;\nvarying vec3 v_position;\n\nvoid main() {\n  v_uv = uv;\n  v_position = position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",l="#define GLSLIFY 1\n#define PI 3.141592653589\n#define PI2 6.28318530718\n\nuniform vec2 u_resolution;\nuniform float u_time;\nuniform float u_duration;\nuniform sampler2D u_tex_1;\nuniform sampler2D u_tex_2;\n\nvarying vec2 v_uv;\n\nvoid main (void) {\n  vec2 p = - 1.0 + 2.0 * v_uv;\n  float len = length(p);\n  vec2 ripple = v_uv + (p / len)*cos(len * 12.0 - u_time * 4.0) * 0.03;\n  float delta = u_time / u_duration;\n  vec2 uv = mix(ripple, v_uv, delta);\n  vec3 col1 = texture2D(u_tex_1, uv).rgb;\n  vec3 col2 = texture2D(u_tex_2, uv).rgb;\n  float fade = smoothstep(delta * 1.4, delta * 2.5, len);\n  vec3 color = mix(col2, col1, fade);\n  gl_FragColor = vec4(color, 1.0);\n}",c=i("5a89"),h=i("cffa"),v=h.gsap,f=i("8992"),m={name:"experiment-11",components:{PageHeader:s["a"]},data:function(){return{scene:new c.Scene,clock:new c.Clock,debug:!0,camera:null,renderer:null,controls:null,slider:{index:0,images:[],loadedTextures:[],aspectRatio:{width:130,height:87},scaleRatioPercent:190},uniforms:{u_tex_1:{value:""},u_tex_2:{value:""},u_time:{value:0},u_resolution:{value:{x:0,y:0}},u_color_a:{value:new c.Color(16711680)},u_color_b:{value:new c.Color(16776960)},u_duration:{value:2}}}},computed:{dimensions:function(){return{innerWidth:this.$store.getters.dimensions.innerWidth,innerHeight:this.$store.getters.dimensions.innerHeight}}},watch:{dimensions:function(){this.setSizes()}},mounted:function(){this.debug&&this.showStats(),this.setRenderer(),this.setSizes(),this.createPlane(),this.setUpEventListeners(),this.debug&&this.showGUI()},methods:{setUpEventListeners:function(){this.tickHandler()},setRenderer:function(){var e=this.$store.getters.dimensions,t=e.innerWidth,i=e.innerHeight;this.renderer=new c.WebGLRenderer({canvas:this.$refs.canvas}),this.renderer.setClearColor(2434341,1),this.camera=new c.PerspectiveCamera(35,t/i,.1,1e3),this.camera.position.z=1},setSizes:function(){var e=this.$store.getters.dimensions,t=e.innerWidth,i=e.innerHeight;this.$refs.canvas.width=t,this.$refs.canvas.height=i,this.uniforms.u_resolution.value.x=t,this.uniforms.u_resolution.value.y=i,this.renderer.setSize(t,i),this.renderer.setPixelRatio(window.devicePixelRatio),this.camera.aspect=t/i,this.camera.updateProjectionMatrix()},createPlane:function(){var e=this.slider.scaleRatioPercent,t=new c.PlaneGeometry(this.slider.aspectRatio.width/e,this.slider.aspectRatio.height/e),n=new c.TextureLoader;this.slider.images=[i("819d"),i("4165"),i("bb8f")],this.slider.loadedTextures=this.slider.images.map((function(e){return n.load(e)})),this.uniforms.u_tex_1.value=this.slider.loadedTextures[0],this.uniforms.u_tex_2.value=this.slider.loadedTextures[1];var r=new c.ShaderMaterial({uniforms:this.uniforms,vertexShader:d,fragmentShader:l,side:c.DoubleSide});this.uniforms.u_time.value=this.uniforms.u_duration.value;var s=new c.Mesh(t,r);this.scene.add(s)},sliderBack:function(){var e=this;this.uniforms.u_time.value=0;var t={value:0};v.to(t,{duration:this.uniforms.u_duration.value,ease:"circ.out",value:this.uniforms.u_duration.value,onUpdate:function(){e.uniforms.u_time.value=t.value}}),this.slider.index-=1;var i=this.slider.images.length;this.slider.index<=-1&&(this.slider.index=i-1),this.uniforms.u_tex_1.value=this.slider.loadedTextures[u(this.slider.index-1,i)],this.uniforms.u_tex_2.value=this.slider.loadedTextures[this.slider.index]},sliderForward:function(){var e=this;this.uniforms.u_time.value=0;var t={value:0};v.to(t,{duration:this.uniforms.u_duration.value,ease:"circ.out",value:this.uniforms.u_duration.value,onUpdate:function(){e.uniforms.u_time.value=t.value}}),this.slider.index+=1;var i=this.slider.images.length;this.slider.index===this.slider.images.length&&(this.slider.index=0),this.uniforms.u_tex_1.value=this.slider.loadedTextures[this.slider.index],this.uniforms.u_tex_2.value=this.slider.loadedTextures[u(this.slider.index+1,i)]},update:function(){},render:function(){this.debug&&this.$data.stats.begin(),this.update(),this.renderer.render(this.scene,this.camera),this.debug&&this.$data.stats.end()},showStats:function(){this.$data.stats=new o.a,this.$data.stats.showPanel(0),document.body.appendChild(this.$data.stats.dom).id="stats"},showGUI:function(){this.$data.gui=new f.GUI({autoPlace:!0});var e=this.$data.gui.addFolder("GUI");e.open()},tickHandler:function(){v.ticker.add(this.render)},buttonBackHandler:function(){this.sliderBack()},buttonForwardHandler:function(){this.sliderForward()},lerp:function(e,t,i){return(1-i)*e+i*t}},beforeDestroy:function(){v.ticker.remove(this.render),window.removeEventListener("mousemove",this.changeMousePosition),this.debug&&document.querySelector("#stats").remove(),this.$data.gui&&this.$data.gui.destroy()}},p=m,_=(i("06c3"),i("0c7c")),x=Object(_["a"])(p,n,r,!1,null,"124c4664",null);t["default"]=x.exports},"06c3":function(e,t,i){"use strict";var n=i("c1ea"),r=i.n(n);r.a},"1dde":function(e,t,i){var n=i("d039"),r=i("b622"),s=i("2d00"),a=r("species");e.exports=function(e){return s>=51||!n((function(){var t=[],i=t.constructor={};return i[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4165:function(e,t,i){e.exports=i.p+"img/texture_three.8117ce69.png"},"65f0":function(e,t,i){var n=i("861d"),r=i("e8b5"),s=i("b622"),a=s("species");e.exports=function(e,t){var i;return r(e)&&(i=e.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?n(i)&&(i=i[a],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},"819d":function(e,t,i){e.exports=i.p+"img/texture_two.a0b6d283.png"},ae40:function(e,t,i){var n=i("83ab"),r=i("d039"),s=i("5135"),a=Object.defineProperty,o={},u=function(e){throw e};e.exports=function(e,t){if(s(o,e))return o[e];t||(t={});var i=[][e],d=!!s(t,"ACCESSORS")&&t.ACCESSORS,l=s(t,0)?t[0]:u,c=s(t,1)?t[1]:void 0;return o[e]=!!i&&!r((function(){if(d&&!n)return!0;var e={length:-1};d?a(e,1,{enumerable:!0,get:u}):e[1]=1,i.call(e,l,c)}))}},b727:function(e,t,i){var n=i("0366"),r=i("44ad"),s=i("7b0b"),a=i("50c4"),o=i("65f0"),u=[].push,d=function(e){var t=1==e,i=2==e,d=3==e,l=4==e,c=6==e,h=5==e||c;return function(v,f,m,p){for(var _,x,g=s(v),b=r(g),w=n(f,m,3),y=a(b.length),S=0,P=p||o,$=t?P(v,y):i?P(v,0):void 0;y>S;S++)if((h||S in b)&&(_=b[S],x=w(_,S,g),e))if(t)$[S]=x;else if(x)switch(e){case 3:return!0;case 5:return _;case 6:return S;case 2:u.call($,_)}else if(l)return!1;return c?-1:d||l?l:$}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},bb8f:function(e,t,i){e.exports=i.p+"img/texture_four.fd277368.png"},c1ea:function(e,t,i){},d81d:function(e,t,i){"use strict";var n=i("23e7"),r=i("b727").map,s=i("1dde"),a=i("ae40"),o=s("map"),u=a("map");n({target:"Array",proto:!0,forced:!o||!u},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,i){var n=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=experiment-11.1065c387.js.map