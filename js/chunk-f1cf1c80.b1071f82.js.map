{"version":3,"sources":["webpack:///./src/views/07.vue?c44b","webpack:///./src/views/07.vue?924e","webpack:///./src/webgl/shaders/vertex/v-07.glsl","webpack:///./src/webgl/shaders/fragment/f-07.glsl","webpack:///src/views/07.vue","webpack:///./src/views/07.vue?87f1","webpack:///./src/views/07.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$route","ref","staticRenderFns","name","components","PageHeader","data","computed","dimensions","innerWidth","$store","getters","innerHeight","watch","setSizes","mounted","debug","showStats","setRenderer","createPlane","setUpEventListeners","showGUI","methods","tickHandler","renderer","THREE","WebGLRenderer","setClearColor","camera","PerspectiveCamera","position","z","$refs","canvas","width","height","uniforms","u_resolution","value","x","y","setSize","setPixelRatio","window","devicePixelRatio","aspect","updateProjectionMatrix","vertexShader","fragmentShader","side","DoubleSide","scene","add","plane","update","$data","stats","begin","u_time","clock","getElapsedTime","end","showPanel","document","body","appendChild","dom","id","gui","dat","GUI","folder","open","gsap","ticker","lerp","amt","start","beforeDestroy","remove","removeEventListener","changeMousePosition","querySelector","destroy","component"],"mappings":"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","file":"js/chunk-f1cf1c80.b1071f82.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./07.vue?vue&type=style&index=0&id=ce45550c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./07.vue?vue&type=style&index=0&id=ce45550c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"default\"},[_c('PageHeader',{attrs:{\"route\":this.$route}}),_c('canvas',{ref:\"canvas\",staticClass:\"canvas\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default \"#define GLSLIFY 1\\nvarying vec2 v_uv;\\nvarying vec3 v_position;\\n\\nvoid main() {\\n  v_uv = uv;\\n  v_position = position;\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\\n\";","export default \"#define GLSLIFY 1\\n#define PI 3.14159265359\\n#define PI2 6.28318530718\\n\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform float u_time;\\n\\nvarying vec2 v_uv;\\nvarying vec3 v_position;\\n\\nfloat circle(vec2 pt, vec2 center, float radius, float line_width, float edge_thickness){\\n  pt -= center;\\n  float len = length(pt);\\n  float result = smoothstep(radius-line_width / 2.0 - edge_thickness, radius-line_width / 2.0, len) - smoothstep(radius + line_width / 2.0, radius + line_width / 2.0 + edge_thickness, len);\\n\\n  return result;\\n}\\n\\nfloat line(float x, float y, float line_width, float edge_thickness){\\n  return smoothstep(x-line_width/ 2.0 - edge_thickness, x-line_width / 2.0, y) - smoothstep(x + line_width / 2.0, x+line_width / 2.0 + edge_thickness, y);\\n}\\n\\nfloat sweep(vec2 pt, vec2 center, float radius, float line_width, float edge_thickness){\\n  vec2 d = pt - center;\\n  float theta = u_time * 4.0;\\n  vec2 p = vec2(cos(theta), -sin(theta)) * radius;\\n  float h = clamp( dot(d,p)/dot(p,p), 0.0, 1.0);\\n  //float h = dot(d,p)/dot(p,p);\\n  float l = length(d - p*h);\\n\\n  float gradient = 0.0;\\n  float gradient_angle = PI * 0.5;\\n\\n  if (length(d)<radius){\\n    float angle = mod(theta + atan(d.y, d.x), PI2);\\n    gradient = clamp(gradient_angle - angle, 0.0, gradient_angle) / gradient_angle * 0.5;\\n  }\\n\\n  return gradient + 1.0 - smoothstep(line_width, line_width + edge_thickness, l);\\n}\\n\\nfloat polygon(vec2 pt, vec2 center, float radius, int sides, float rotate, float edge_thickness){\\n  pt -= center;\\n\\n  // Angle and radius from the current pixel\\n  float theta = atan(pt.y, pt.x) + rotate;\\n  float rad = PI2/float(sides);\\n\\n  // Shaping function that modulate the distance\\n  float d = cos(floor(0.5 + theta / rad) * rad-theta) * length(pt);\\n\\n  return 1.0 - smoothstep(radius, radius + edge_thickness, d);\\n}\\n\\nvoid main (void)\\n{\\n  vec3 axis_color = vec3(0.8);\\n  vec3 color = line(v_uv.y, 0.5, 0.002, 0.001) * axis_color;\\n  color += line(v_uv.x, 0.5, 0.002, 0.001) * axis_color;\\n  color += circle(v_uv, vec2(0.5), 0.03, 0.002, 0.001) * axis_color;\\n  color += circle(v_uv, vec2(0.5), 0.08, 0.002, 0.001) * axis_color;\\n  color += circle(v_uv, vec2(0.5), 0.13, 0.002, 0.001) * axis_color;\\n  color += sweep(v_uv, vec2(0.5), 0.128, 0.003, 0.001) * vec3(0.1, 0.3, 1.0);\\n\\n  color += polygon(v_uv, vec2(0.7 - sin(u_time * 3.0 + PI) * 0.05, 0.5), 0.005, 3, 0.0, 0.001) * vec3(1.0);\\n  color += polygon(v_uv, vec2(0.3 - cos(u_time * 3.0) * 0.05, 0.5), 0.005, 3, PI, 0.001) * vec3(1.0);\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";","<template>\n  <div class=\"default\">\n    <PageHeader :route='this.$route' />\n    <canvas class=\"canvas\" ref=\"canvas\"></canvas>\n  </div>\n</template>\n\n<script>\nimport PageHeader from '@/components/PageHeader.vue';\n\nimport Stats from 'stats.js/build/stats.min';\n\nimport vShader from '../webgl/shaders/vertex/v-07.glsl';\nimport fShader from '../webgl/shaders/fragment/f-07.glsl';\n\nconst THREE = require('three');\nconst { gsap } = require('gsap');\nconst dat = require('dat.gui');\n\nexport default {\n  name: 'experiment-07',\n\n  components: {\n    PageHeader,\n  },\n\n  data: () => ({\n    scene: new THREE.Scene(),\n    clock: new THREE.Clock(),\n    debug: true,\n    camera: null,\n    renderer: null,\n    controls: null,\n    uniforms: {\n      u_time: { value: 0.0 },\n      u_resolution: { value: { x: 0.0, y: 0.0 } },\n    },\n  }),\n\n  computed: {\n    dimensions() {\n      return {\n        innerWidth: this.$store.getters.dimensions.innerWidth,\n        innerHeight: this.$store.getters.dimensions.innerHeight,\n      };\n    },\n  },\n\n  watch: {\n    dimensions() {\n      this.setSizes();\n    },\n  },\n\n  mounted() {\n    // Misc\n    if (this.debug) this.showStats();\n\n    // Renders\n    this.setRenderer();\n    this.setSizes();\n\n    // Objects\n    this.createPlane();\n\n    this.setUpEventListeners();\n\n    if (this.debug) this.showGUI();\n  },\n\n  methods: {\n    setUpEventListeners() {\n      this.tickHandler();\n    },\n\n    /*\n      Functions\n    */\n    setRenderer() {\n      const { innerWidth, innerHeight } = this.$store.getters.dimensions;\n\n      this.renderer = new THREE.WebGLRenderer({ canvas: this.$refs.canvas });\n      this.renderer.setClearColor(0x333333, 1);\n\n      this.camera = new THREE.PerspectiveCamera(35, innerWidth / innerHeight, 0.1, 1000);\n      this.camera.position.z = 1;\n    },\n\n    setSizes() {\n      const { innerWidth, innerHeight } = this.$store.getters.dimensions;\n\n      this.$refs.canvas.width = innerWidth;\n      this.$refs.canvas.height = innerHeight;\n\n      this.uniforms.u_resolution.value.x = innerWidth;\n      this.uniforms.u_resolution.value.y = innerHeight;\n\n      this.renderer.setSize(innerWidth, innerHeight);\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n\n      this.camera.aspect = innerWidth / innerHeight;\n      this.camera.updateProjectionMatrix();\n    },\n\n    createPlane() {\n      const geometry = new THREE.PlaneGeometry(2, 2);\n\n      const material = new THREE.ShaderMaterial({\n        uniforms: this.uniforms,\n        vertexShader: vShader,\n        fragmentShader: fShader,\n        side: THREE.DoubleSide,\n      });\n\n      const plane = new THREE.Mesh(geometry, material);\n\n      this.scene.add(plane);\n    },\n\n    update() {\n      // this.updateMousePosition();\n      // ANIMATION\n      // END ANIMATION\n    },\n\n    render() {\n      if (this.debug) this.$data.stats.begin();\n\n      this.uniforms.u_time.value = this.clock.getElapsedTime();\n\n      this.update();\n\n      this.renderer.render(this.scene, this.camera);\n\n      if (this.debug) this.$data.stats.end();\n    },\n\n    showStats() {\n      this.$data.stats = new Stats();\n      this.$data.stats.showPanel(0);\n      document.body.appendChild(this.$data.stats.dom).id = 'stats';\n    },\n\n    showGUI() {\n      this.$data.gui = new dat.GUI({ autoPlace: true });\n\n      const folder = this.$data.gui.addFolder('GUI');\n\n      folder.open();\n    },\n\n    /*\n      Listeners\n    */\n    tickHandler() {\n      gsap.ticker.add(this.render);\n    },\n\n    /*\n      Helpers\n    */\n    lerp(start, end, amt) {\n      return (1 - amt) * start + amt * end;\n    },\n  },\n\n  beforeDestroy() {\n    gsap.ticker.remove(this.render);\n    window.removeEventListener('mousemove', this.changeMousePosition);\n\n    if (this.debug) document.querySelector('#stats').remove();\n    if (this.$data.gui) this.$data.gui.destroy();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./07.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./07.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./07.vue?vue&type=template&id=ce45550c&scoped=true&\"\nimport script from \"./07.vue?vue&type=script&lang=js&\"\nexport * from \"./07.vue?vue&type=script&lang=js&\"\nimport style0 from \"./07.vue?vue&type=style&index=0&id=ce45550c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce45550c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}