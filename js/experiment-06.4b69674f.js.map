{"version":3,"sources":["webpack:///./src/views/06.vue?e997","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/06.vue?7b04","webpack:///./src/webgl/shaders/vertex/v-06.glsl","webpack:///./src/webgl/shaders/fragment/f-06.glsl","webpack:///src/views/06.vue","webpack:///./src/views/06.vue?e0be","webpack:///./src/views/06.vue"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","$route","ref","staticRenderFns","name","components","PageHeader","data","computed","dimensions","innerWidth","$store","getters","innerHeight","watch","setSizes","mounted","debug","showStats","setRenderer","createPlane","setUpEventListeners","showGUI","methods","tickHandler","mousemoveHandler","renderer","THREE","WebGLRenderer","setClearColor","camera","PerspectiveCamera","position","z","$refs","canvas","width","height","uniforms","u_resolution","value","x","y","setSize","setPixelRatio","window","devicePixelRatio","aspect","updateProjectionMatrix","vertexShader","fragmentShader","side","DoubleSide","scene","add","plane","changeMousePosition","$data","mouse","newX","newY","updateMousePosition","oldX","u_mouse","oldY","lerp","update","stats","begin","u_time","clock","getElapsedTime","end","showPanel","document","body","appendChild","dom","id","gui","dat","GUI","sunFolder","u_scale","u_colors","u_grow","u_intensity","u_bounce","open","gsap","ticker","addEventListener","amt","start","beforeDestroy","remove","removeEventListener","querySelector","destroy","component"],"mappings":"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","file":"js/experiment-06.4b69674f.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./06.vue?vue&type=style&index=0&id=d6ceabd4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./06.vue?vue&type=style&index=0&id=d6ceabd4&lang=scss&scoped=true&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"default\"},[_c('PageHeader',{attrs:{\"route\":this.$route}}),_c('canvas',{ref:\"canvas\",staticClass:\"canvas\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default \"#define GLSLIFY 1\\nvarying vec2 v_uv;\\n\\nvoid main(){\\n  v_uv = uv;\\n\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n}\\n\";","export default \"#define GLSLIFY 1\\nuniform float u_time;\\nuniform float u_scale;\\nuniform vec2 u_resolution;\\nuniform vec2 u_mouse;\\nuniform vec3 u_colors;\\nuniform float u_grow;\\nuniform float u_intensity;\\nuniform float u_bounce;\\n\\n// Varying the vertex uv from the vertex shader\\nvarying vec2 v_uv;\\n\\n// hotspot\\nvoid main(void) {\\n  vec2 uv = gl_FragCoord.xy / u_resolution;\\n\\n\\tfloat intensity = u_intensity; // Bright effect\\n\\tvec2 offset = vec2(clamp(-1.0 + u_mouse.x * -1.0, 1.5, -1.5), clamp(-1.0 + u_mouse.y, -1.5, 1.5)); // x / y offset\\n\\tvec3 light_color = vec3(u_colors.r, u_colors.g, u_colors.b); // RGB, proportional values, higher increases intensity\\n\\tfloat master_scale = u_scale + u_bounce; // Change the size of the effect\\n\\tfloat c = pow(master_scale/(length(uv + offset)), u_grow + intensity);\\n\\n\\tgl_FragColor = vec4(vec3(c) * light_color, 2.0);\\n}\\n\";","<template>\n  <div class=\"default\">\n    <PageHeader :route='this.$route' />\n    <canvas class=\"canvas\" ref=\"canvas\"></canvas>\n  </div>\n</template>\n\n<script>\nimport PageHeader from '@/components/PageHeader.vue';\n\nimport Stats from 'stats.js/build/stats.min';\n\nimport vShader from '../webgl/shaders/vertex/v-06.glsl';\nimport fShader from '../webgl/shaders/fragment/f-06.glsl';\n\nconst THREE = require('three');\nconst { gsap } = require('gsap');\nconst dat = require('dat.gui');\n\nexport default {\n  name: 'experiment-06',\n\n  components: {\n    PageHeader,\n  },\n\n  data: () => ({\n    scene: new THREE.Scene(),\n    clock: new THREE.Clock(),\n    debug: true,\n    camera: null,\n    renderer: null,\n    controls: null,\n    sun: {\n      scale: 0.2,\n    },\n    mouse: {\n      oldX: 0,\n      oldY: 0,\n      newX: 0,\n      newY: 0,\n    },\n    uniforms: {\n      u_color: { value: new THREE.Color(0xFFDFD3) },\n      u_time: { value: 0.0 },\n      u_scale: { value: 0.3 },\n      u_grow: { value: -0.5 },\n      u_mouse: { value: { x: 0.0, y: 0.0 } },\n      u_resolution: { value: { x: 0.0, y: 0.0 } },\n      u_colors: { value: { r: 1.0, g: 0.8, b: 0.6 } },\n      u_intensity: { value: 0.7 },\n      u_bounce: { value: 0.3 },\n    },\n  }),\n\n  computed: {\n    dimensions() {\n      return {\n        innerWidth: this.$store.getters.dimensions.innerWidth,\n        innerHeight: this.$store.getters.dimensions.innerHeight,\n      };\n    },\n  },\n\n  watch: {\n    dimensions() {\n      this.setSizes();\n    },\n  },\n\n  mounted() {\n    // Misc\n    if (this.debug) this.showStats();\n\n    // Renders\n    this.setRenderer();\n    this.setSizes();\n\n    // Objects\n    this.createPlane();\n\n    this.setUpEventListeners();\n\n    if (this.debug) this.showGUI();\n  },\n\n  methods: {\n    setUpEventListeners() {\n      this.tickHandler();\n      this.mousemoveHandler();\n    },\n\n    /*\n      Functions\n    */\n    setRenderer() {\n      const { innerWidth, innerHeight } = this.$store.getters.dimensions;\n\n      this.renderer = new THREE.WebGLRenderer({ canvas: this.$refs.canvas });\n      this.renderer.setClearColor(0x333333, 1);\n\n      this.camera = new THREE.PerspectiveCamera(35, innerWidth / innerHeight, 0.1, 1000);\n      this.camera.position.z = 1;\n    },\n\n    setSizes() {\n      const { innerWidth, innerHeight } = this.$store.getters.dimensions;\n\n      this.$refs.canvas.width = innerWidth;\n      this.$refs.canvas.height = innerHeight;\n\n      this.uniforms.u_resolution.value.x = innerWidth;\n      this.uniforms.u_resolution.value.y = innerHeight;\n\n      this.renderer.setSize(innerWidth, innerHeight);\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n\n      this.camera.aspect = innerWidth / innerHeight;\n      this.camera.updateProjectionMatrix();\n    },\n\n    createPlane() {\n      const geometry = new THREE.PlaneGeometry(2, 2);\n\n      const material = new THREE.ShaderMaterial({\n        uniforms: this.uniforms,\n        vertexShader: vShader,\n        fragmentShader: fShader,\n        side: THREE.DoubleSide,\n      });\n\n      const plane = new THREE.Mesh(geometry, material);\n\n      this.scene.add(plane);\n    },\n\n    changeMousePosition(e) {\n      const { innerWidth, innerHeight } = this.$store.getters.dimensions;\n\n      this.$data.mouse.newX = ((e.clientX / innerWidth) * 2) - 1;\n      this.$data.mouse.newY = ((e.clientY / innerHeight) * 2) - 1;\n    },\n\n    updateMousePosition() {\n      this.$data.mouse.oldX = this.uniforms.u_mouse.value.x;\n      this.$data.mouse.oldY = this.uniforms.u_mouse.value.y;\n\n      this.uniforms.u_mouse.value.x = this.lerp(this.$data.mouse.oldX, this.$data.mouse.newX, 0.07);\n      this.uniforms.u_mouse.value.y = this.lerp(this.$data.mouse.oldY, this.$data.mouse.newY, 0.07);\n    },\n\n    update() {\n      this.updateMousePosition();\n      // ANIMATION\n      // END ANIMATION\n    },\n\n    render() {\n      if (this.debug) this.$data.stats.begin();\n\n      this.uniforms.u_time.value = this.clock.getElapsedTime();\n\n      this.update();\n\n      this.renderer.render(this.scene, this.camera);\n\n      if (this.debug) this.$data.stats.end();\n    },\n\n    showStats() {\n      this.$data.stats = new Stats();\n      this.$data.stats.showPanel(0);\n      document.body.appendChild(this.$data.stats.dom).id = 'stats';\n    },\n\n    showGUI() {\n      this.$data.gui = new dat.GUI({ autoPlace: true });\n\n      const sunFolder = this.$data.gui.addFolder('Sun');\n\n      sunFolder.add(this.$data.uniforms.u_scale, 'value', 0.01, 5) //\n        .name('Scale')\n        .onChange(this.render());\n\n      sunFolder.add(this.$data.uniforms.u_colors.value, 'r', 0.0, 1.0) //\n        .name('Red')\n        .onChange(this.render());\n\n      sunFolder.add(this.$data.uniforms.u_colors.value, 'g', 0.0, 1.0) //\n        .name('Red')\n        .onChange(this.render());\n\n      sunFolder.add(this.$data.uniforms.u_colors.value, 'b', 0.0, 1.0) //\n        .name('Green')\n        .onChange(this.render());\n\n      sunFolder.add(this.$data.uniforms.u_grow, 'value', -1.0, 1.0) //\n        .name('Grow')\n        .onChange(this.render());\n\n      sunFolder.add(this.$data.uniforms.u_intensity, 'value', -3.0, 3.0) //\n        .name('Intensity')\n        .onChange(this.render());\n\n      sunFolder.add(this.$data.uniforms.u_bounce, 'value', -5.0, 5.0) //\n        .name('Bounce')\n        .onChange(this.render());\n\n      sunFolder.open();\n    },\n\n    /*\n      Listeners\n    */\n    tickHandler() {\n      gsap.ticker.add(this.render);\n    },\n\n    mousemoveHandler() {\n      window.addEventListener('mousemove', this.changeMousePosition);\n    },\n\n    /*\n      Helpers\n    */\n    lerp(start, end, amt) {\n      return (1 - amt) * start + amt * end;\n    },\n  },\n\n  beforeDestroy() {\n    gsap.ticker.remove(this.render);\n    window.removeEventListener('mousemove', this.changeMousePosition);\n\n    if (this.debug) document.querySelector('#stats').remove();\n    if (this.$data.gui) this.$data.gui.destroy();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./06.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./06.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./06.vue?vue&type=template&id=d6ceabd4&scoped=true&\"\nimport script from \"./06.vue?vue&type=script&lang=js&\"\nexport * from \"./06.vue?vue&type=script&lang=js&\"\nimport style0 from \"./06.vue?vue&type=style&index=0&id=d6ceabd4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6ceabd4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}